import{u as v,b as y,r as N,j as e,H as f,L as u,a as b}from"./app-Bu58nmqp.js";import{A as C,b as _,H as k,T as w,D as F,y as P,a as S,o as D}from"./AppLayout-PYzm33Di.js";import{C as T,a as q,b as E,c as I}from"./card-DoR82Obt.js";import{B as n}from"./Button-CJzVzbMf.js";import{I as c}from"./Input-B1xyFs7T.js";import{L as i}from"./Label-BUXOAy6-.js";import{T as L}from"./textarea-CUvR1RUq.js";import{u as M}from"./use-toast-DINbgNCQ.js";import{A as R}from"./arrow-left-DSvgm0i3.js";import"./createLucideIcon-D31lZ7X_.js";import"./shield-x-Be2eaKBY.js";import"./x-BNg5u3GU.js";import"./user-cog-DOLB-E56.js";import"./Dropdown-BckUvWPZ.js";import"./transition-Dwpb1-fu.js";import"./loader-circle-BgO0_QPs.js";import"./refresh-cw-DMClxRp8.js";import"./FlashMessages-Ce1oH_d3.js";function te({auth:U,categories:p}){const{toast:o}=M(),{shop:d}=v().props,x=d?.currency||"CDF",{data:a,setData:t,post:h,processing:l,errors:r}=y({name:"",product_code:"",description:"",category_id:"",price:"",currency:x,cost:"",minimum_stock:"",unit:"",medicine_type:"",dosage:"",prescription_required:!1,manufacturer:"",supplier_id:""}),[m,g]=N.useState(!1),j=s=>{s.preventDefault(),h(route("pharmacy.products.store"),{onSuccess:()=>{o({title:"Success",description:"Product created successfully"}),b.visit(route("pharmacy.products"))},onError:A=>{o({title:"Error",description:"Please check the form for errors",variant:"destructive"})}})};return e.jsxs(C,{header:e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{variant:"ghost",asChild:!0,className:"mr-4",children:e.jsxs(u,{href:route("pharmacy.products"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100 leading-tight",children:"CrÃ©er un nouveau produit"})]}),children:[e.jsx(f,{title:"Create Product"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:j,children:e.jsxs(T,{children:[e.jsx(q,{children:e.jsxs(E,{className:"flex items-center",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),"Product Information"]})}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Product Name *"}),e.jsx(c,{id:"name",value:a.name,onChange:s=>t("name",s.target.value),placeholder:"Enter product name"}),r.name&&e.jsx("p",{className:"text-sm text-red-600",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"product_code",children:"Product Code *"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(c,{id:"product_code",value:a.product_code,onChange:s=>t("product_code",s.target.value),placeholder:"PROD-001",className:"pl-10"})]}),r.product_code&&e.jsx("p",{className:"text-sm text-red-600",children:r.product_code})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(L,{id:"description",value:a.description,onChange:s=>t("description",s.target.value),placeholder:"Product description...",rows:3}),r.description&&e.jsx("p",{className:"text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category_id",children:"Category *"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsxs("select",{id:"category_id",value:a.category_id,onChange:s=>t("category_id",s.target.value),className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select category"}),p.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),r.category_id&&e.jsx("p",{className:"text-sm text-red-600",children:r.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"unit",children:"Unit *"}),e.jsx(c,{id:"unit",value:a.unit,onChange:s=>t("unit",s.target.value),placeholder:"e.g., bottle, box, tablet"}),r.unit&&e.jsx("p",{className:"text-sm text-red-600",children:r.unit})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),"Pricing Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"price",children:"Selling Price *"}),e.jsx(c,{id:"price",type:"number",step:"0.01",value:a.price,onChange:s=>t("price",s.target.value),placeholder:"0.00"}),r.price&&e.jsx("p",{className:"text-sm text-red-600",children:r.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"cost",children:"Cost Price"}),e.jsx(c,{id:"cost",type:"number",step:"0.01",value:a.cost,onChange:s=>t("cost",s.target.value),placeholder:"0.00"}),r.cost&&e.jsx("p",{className:"text-sm text-red-600",children:r.cost})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currency",children:"Devise *"}),e.jsx("select",{id:"currency",value:a.currency,onChange:s=>t("currency",s.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:d?.currencies&&d.currencies.length>0?d.currencies.map(s=>e.jsxs("option",{value:s.code,children:[s.code," - ",s.name]},s.code)):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"CDF",children:"CDF - Franc Congolais"}),e.jsx("option",{value:"USD",children:"USD - Dollar US"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})}),r.currency&&e.jsx("p",{className:"text-sm text-red-600",children:r.currency})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Inventory Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"minimum_stock",children:"Minimum Stock Level *"}),e.jsx(c,{id:"minimum_stock",type:"number",value:a.minimum_stock,onChange:s=>t("minimum_stock",s.target.value),placeholder:"10"}),r.minimum_stock&&e.jsx("p",{className:"text-sm text-red-600",children:r.minimum_stock})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"manufacturer",children:"Manufacturer"}),e.jsx(c,{id:"manufacturer",value:a.manufacturer,onChange:s=>t("manufacturer",s.target.value),placeholder:"Manufacturer name"}),r.manufacturer&&e.jsx("p",{className:"text-sm text-red-600",children:r.manufacturer})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Medicine Information"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:s=>g(s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"This is a medicine product"})]})]}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"medicine_type",children:"Medicine Type"}),e.jsxs("select",{id:"medicine_type",value:a.medicine_type,onChange:s=>t("medicine_type",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"tablet",children:"Tablet"}),e.jsx("option",{value:"capsule",children:"Capsule"}),e.jsx("option",{value:"syrup",children:"Syrup"}),e.jsx("option",{value:"injection",children:"Injection"}),e.jsx("option",{value:"cream",children:"Cream/Ointment"}),e.jsx("option",{value:"other",children:"Other"})]}),r.medicine_type&&e.jsx("p",{className:"text-sm text-red-600",children:r.medicine_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"dosage",children:"Dosage"}),e.jsx(c,{id:"dosage",value:a.dosage,onChange:s=>t("dosage",s.target.value),placeholder:"e.g., 500mg, 10ml"}),r.dosage&&e.jsx("p",{className:"text-sm text-red-600",children:r.dosage})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"prescription_required",checked:a.prescription_required,onChange:s=>t("prescription_required",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx(i,{htmlFor:"prescription_required",className:"ml-2",children:"Prescription Required"})]}),r.prescription_required&&e.jsx("p",{className:"text-sm text-red-600",children:r.prescription_required})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx(n,{variant:"outline",asChild:!0,disabled:l,children:e.jsx(u,{href:route("pharmacy.products"),children:"Cancel"})}),e.jsxs(n,{type:"submit",disabled:l,children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),l?"Creating...":"Create Product"]})]})]})]})})})})]})}export{te as default};
