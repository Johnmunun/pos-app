import{u as n,j as e,H as c,L as m,a as o}from"./app-Bu58nmqp.js";import{F as p}from"./FlashMessages-Ce1oH_d3.js";function u(){const{tenant:a,stats:s,users:l,auth:i}=n().props,r=(i?.permissions??[]).includes("admin.users.update"),x=(t,d)=>{r&&confirm(`Are you sure you want to ${d?"deactivate":"activate"} this user?`)&&o.post(route("admin.users.update",t))};return e.jsxs(e.Fragment,{children:[e.jsx(c,{title:`Admin - ${a.name}`}),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{href:route("admin.tenants.select.view"),className:"text-amber-600 hover:text-amber-700 text-sm font-medium",children:"← Retour"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.name}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Slug: ",e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:a.slug})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${a.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:a.is_active?"✓ Actif":"✗ Inactif"})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Utilisateurs totaux"}),e.jsx("p",{className:"text-4xl font-bold text-gray-900",children:s.users_count})]}),e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-6",children:[e.jsx("p",{className:"text-emerald-700 text-sm font-medium mb-2",children:"Utilisateurs actifs"}),e.jsx("p",{className:"text-4xl font-bold text-emerald-700",children:s.active_users})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("p",{className:"text-blue-700 text-sm font-medium mb-2",children:"Dernière activité"}),s.last_login?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg font-bold text-blue-700",children:[s.last_login.first_name," ",s.last_login.last_name]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:new Date(s.last_login.last_login_at).toLocaleString("fr-FR")})]}):e.jsx("p",{className:"text-blue-600",children:"Aucune activité"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Utilisateurs (",l.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Nom"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Rôle"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Inscription"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:[t.first_name," ",t.last_name]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:t.email}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${t.type==="TENANT_ADMIN"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:t.type})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${t.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:t.is_active?"Actif":"Inactif"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(t.created_at).toLocaleDateString("fr-FR")}),e.jsx("td",{className:"px-6 py-4 text-sm text-center",children:r?e.jsx("button",{onClick:()=>x(t.id,t.is_active),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${t.is_active?"bg-red-100 text-red-600 hover:bg-red-200":"bg-emerald-100 text-emerald-600 hover:bg-emerald-200"}`,children:t.is_active?"Désactiver":"Activer"}):e.jsx("span",{className:"text-xs text-gray-500 italic",children:"Non autorisé"})})]},t.id))})]})}),l.length===0&&e.jsx("div",{className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Aucun utilisateur"})})]})]})]}),e.jsx(p,{})]})}export{u as default};
