import{u as y,b as N,r as f,j as e,H as _,L as p,a as b}from"./app-BGTsh8B3.js";import{A as C,b as k,H as w,T as F,D as q,a6 as S,a as T,u as P}from"./AppLayout-B9W2Qjn-.js";import{C as D,a as E,b as I,c as U}from"./card-DzyZZsrB.js";import{B as o}from"./Button-Cm51LcKk.js";import{I as c}from"./Input-LVtkliO7.js";import{L as i}from"./Label-CEns7YJb.js";import{T as L}from"./textarea-Dc6vmaOE.js";import{u as A}from"./use-toast-B9BGO7Bi.js";import{A as M}from"./arrow-left-BMPE_XAu.js";import"./createLucideIcon-B4miffV9.js";import"./shield-x-DRqpxde8.js";import"./x-Bqi0sytM.js";import"./user-cog-CgPvrrVM.js";import"./Dropdown-DbeWMHj2.js";import"./transition-JR3jNvu7.js";import"./loader-circle-CIdMfzjo.js";import"./refresh-cw-CA0aJ90x.js";import"./FlashMessages-o0prhkl9.js";function ie({auth:H,categories:x,routePrefix:d="pharmacy"}){const{toast:m}=A(),{shop:l}=y().props,h=l?.currency||"CDF",{data:t,setData:a,post:g,processing:n,errors:r}=N({name:"",product_code:"",description:"",category_id:"",price:"",currency:h,cost:"",minimum_stock:"",unit:"",medicine_type:"",dosage:"",prescription_required:!1,manufacturer:"",supplier_id:"",type_unite:"UNITE",quantite_par_unite:1,est_divisible:!0}),[u,j]=f.useState(!1),v=s=>{s.preventDefault(),g(route(`${d}.products.store`),{onSuccess:()=>{m({title:"Success",description:"Product created successfully"}),b.visit(route(`${d}.products`))},onError:R=>{m({title:"Error",description:"Please check the form for errors",variant:"destructive"})}})};return e.jsxs(C,{header:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{variant:"ghost",asChild:!0,className:"mr-4",children:e.jsxs(p,{href:route(`${d}.products`),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Retour"]})}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100 leading-tight",children:"Créer un nouveau produit"})]}),children:[e.jsx(_,{title:"Create Product"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:v,children:e.jsxs(D,{children:[e.jsx(E,{children:e.jsxs(I,{className:"flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-2"}),"Product Information"]})}),e.jsxs(U,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Product Name *"}),e.jsx(c,{id:"name",value:t.name,onChange:s=>a("name",s.target.value),placeholder:"Enter product name"}),r.name&&e.jsx("p",{className:"text-sm text-red-600",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"product_code",children:"Product Code *"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(c,{id:"product_code",value:t.product_code,onChange:s=>a("product_code",s.target.value),placeholder:"PROD-001",className:"pl-10"})]}),r.product_code&&e.jsx("p",{className:"text-sm text-red-600",children:r.product_code})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(L,{id:"description",value:t.description,onChange:s=>a("description",s.target.value),placeholder:"Product description...",rows:3}),r.description&&e.jsx("p",{className:"text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category_id",children:"Category *"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsxs("select",{id:"category_id",value:t.category_id,onChange:s=>a("category_id",s.target.value),className:"w-full rounded-md border-gray-300 pl-10 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select category"}),x.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),r.category_id&&e.jsx("p",{className:"text-sm text-red-600",children:r.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"unit",children:"Unit *"}),e.jsx(c,{id:"unit",value:t.unit,onChange:s=>a("unit",s.target.value),placeholder:"e.g., bottle, box, tablet"}),r.unit&&e.jsx("p",{className:"text-sm text-red-600",children:r.unit})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"type_unite",children:"Type d'unité *"}),e.jsxs("select",{id:"type_unite",value:t.type_unite,onChange:s=>a("type_unite",s.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"PLAQUETTE",children:"Plaquette"}),e.jsx("option",{value:"BOITE",children:"Boîte"}),e.jsx("option",{value:"FLACON",children:"Flacon"}),e.jsx("option",{value:"TUBE",children:"Tube"}),e.jsx("option",{value:"SACHET",children:"Sachet"}),e.jsx("option",{value:"UNITE",children:"Unité"})]}),r.type_unite&&e.jsx("p",{className:"text-sm text-red-600",children:r.type_unite})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"quantite_par_unite",children:"Quantité par unité *"}),e.jsx(c,{id:"quantite_par_unite",type:"number",min:1,value:t.quantite_par_unite,onChange:s=>a("quantite_par_unite",parseInt(s.target.value,10)||1),placeholder:"ex: 10 comprimés"}),e.jsx("p",{className:"text-xs text-gray-500",children:"ex: 10 comprimés par plaquette"}),r.quantite_par_unite&&e.jsx("p",{className:"text-sm text-red-600",children:r.quantite_par_unite})]}),e.jsxs("div",{className:"space-y-2 flex flex-col justify-end",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"est_divisible",checked:t.est_divisible,onChange:s=>a("est_divisible",s.target.checked),className:"rounded border-gray-300"}),e.jsx(i,{htmlFor:"est_divisible",className:"cursor-pointer",children:"Vente en fraction autorisée"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Désactiver pour boîte/flacon (quantité entière uniquement)"}),r.est_divisible&&e.jsx("p",{className:"text-sm text-red-600",children:r.est_divisible})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),"Pricing Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"price",children:"Selling Price *"}),e.jsx(c,{id:"price",type:"number",step:"0.01",value:t.price,onChange:s=>a("price",s.target.value),placeholder:"0.00"}),r.price&&e.jsx("p",{className:"text-sm text-red-600",children:r.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"cost",children:"Cost Price"}),e.jsx(c,{id:"cost",type:"number",step:"0.01",value:t.cost,onChange:s=>a("cost",s.target.value),placeholder:"0.00"}),r.cost&&e.jsx("p",{className:"text-sm text-red-600",children:r.cost})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currency",children:"Devise *"}),e.jsx("select",{id:"currency",value:t.currency,onChange:s=>a("currency",s.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:l?.currencies&&l.currencies.length>0?l.currencies.map(s=>e.jsxs("option",{value:s.code,children:[s.code," - ",s.name]},s.code)):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"CDF",children:"CDF - Franc Congolais"}),e.jsx("option",{value:"USD",children:"USD - Dollar US"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})}),r.currency&&e.jsx("p",{className:"text-sm text-red-600",children:r.currency})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Inventory Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"minimum_stock",children:"Minimum Stock Level *"}),e.jsx(c,{id:"minimum_stock",type:"number",value:t.minimum_stock,onChange:s=>a("minimum_stock",s.target.value),placeholder:"10"}),r.minimum_stock&&e.jsx("p",{className:"text-sm text-red-600",children:r.minimum_stock})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"manufacturer",children:"Manufacturer"}),e.jsx(c,{id:"manufacturer",value:t.manufacturer,onChange:s=>a("manufacturer",s.target.value),placeholder:"Manufacturer name"}),r.manufacturer&&e.jsx("p",{className:"text-sm text-red-600",children:r.manufacturer})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(T,{className:"h-5 w-5 mr-2"}),"Medicine Information"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:s=>j(s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"This is a medicine product"})]})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"medicine_type",children:"Medicine Type"}),e.jsxs("select",{id:"medicine_type",value:t.medicine_type,onChange:s=>a("medicine_type",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"tablet",children:"Tablet"}),e.jsx("option",{value:"capsule",children:"Capsule"}),e.jsx("option",{value:"syrup",children:"Syrup"}),e.jsx("option",{value:"injection",children:"Injection"}),e.jsx("option",{value:"cream",children:"Cream/Ointment"}),e.jsx("option",{value:"other",children:"Other"})]}),r.medicine_type&&e.jsx("p",{className:"text-sm text-red-600",children:r.medicine_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"dosage",children:"Dosage"}),e.jsx(c,{id:"dosage",value:t.dosage,onChange:s=>a("dosage",s.target.value),placeholder:"e.g., 500mg, 10ml"}),r.dosage&&e.jsx("p",{className:"text-sm text-red-600",children:r.dosage})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"prescription_required",checked:t.prescription_required,onChange:s=>a("prescription_required",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx(i,{htmlFor:"prescription_required",className:"ml-2",children:"Prescription Required"})]}),r.prescription_required&&e.jsx("p",{className:"text-sm text-red-600",children:r.prescription_required})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx(o,{variant:"outline",asChild:!0,disabled:n,children:e.jsx(p,{href:route(`${d}.products`),children:"Cancel"})}),e.jsxs(o,{type:"submit",disabled:n,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),n?"Creating...":"Create Product"]})]})]})]})})})})]})}export{ie as default};
