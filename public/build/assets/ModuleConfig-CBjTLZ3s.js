import{u as j,j as e,H as c,L as d,r as m}from"./app-3PKVeuQh.js";import{A as p,S as w,U as N,a as C}from"./AppLayout-DSrKCpOy.js";import{A as b}from"./arrow-left-CvJq81LS.js";import{S as G}from"./x-YL0zAneP.js";import"./createLucideIcon-CyiEew_u.js";import"./shield-x-gOy17OJ-.js";import"./user-cog-nVqfHm0b.js";import"./Dropdown-B_QkibTR.js";import"./transition-CufTvwOt.js";import"./loader-circle-D2tkCN5O.js";import"./refresh-cw-L3GUbwVE.js";import"./FlashMessages-bPB7K-Ql.js";function T({moduleCode:u}){const{auth:n}=j().props;n?.permissions,n?.user?.type;const r={pharmacy:{id:"pharmacy",code:"pharmacy",name:"Pharmacie",description:"Gestion complète pour les pharmacies",icon:C,color:"blue",enabled:!1,features:[{code:"medicines",label:"Gestion des médicaments",description:"Gérer le catalogue de médicaments avec DCI, formes pharmaceutiques, dosages",enabled:!1,permissions:["pharmacy.medicines.view","pharmacy.medicines.create","pharmacy.medicines.update"]},{code:"batches",label:"Lots & dates d'expiration",description:"Traçabilité des lots de médicaments avec dates d'expiration",enabled:!1,permissions:["pharmacy.batches.view","pharmacy.batches.manage"]},{code:"prescriptions",label:"Ordonnances",description:"Gestion des prescriptions médicales et validation",enabled:!1,permissions:["pharmacy.prescriptions.view","pharmacy.prescriptions.create"]},{code:"suppliers",label:"Fournisseurs pharmaceutiques",description:"Gestion des fournisseurs spécialisés en produits pharmaceutiques",enabled:!1,permissions:["pharmacy.suppliers.view","pharmacy.suppliers.manage"]}]},butchery:{id:"butchery",code:"butchery",name:"Boucherie",description:"Gestion spécialisée pour les boucheries",icon:N,color:"red",enabled:!1,features:[{code:"meat_products",label:"Produits de viande",description:"Gérer les produits de viande avec types, coupes, origines",enabled:!1,permissions:["butchery.meat_products.view","butchery.meat_products.manage"]},{code:"batches",label:"Lots & traçabilité",description:"Traçabilité des lots de viande avec dates d'abattage et réception",enabled:!1,permissions:["butchery.batches.view","butchery.batches.manage"]},{code:"waste",label:"Gestion des déchets",description:"Enregistrer et suivre les pertes et déchets",enabled:!1,permissions:["butchery.waste.view","butchery.waste.manage"]},{code:"cutting",label:"Découpe & transformation",description:"Gérer les opérations de découpe et transformation",enabled:!1,permissions:["butchery.cutting.view","butchery.cutting.manage"]}]},kiosk:{id:"kiosk",code:"kiosk",name:"Kiosque",description:"Solution simplifiée pour kiosques",icon:w,color:"green",enabled:!1,features:[{code:"quick_sale",label:"Vente rapide",description:"Interface de vente optimisée pour transactions rapides",enabled:!1,permissions:["kiosk.quick_sale.view","kiosk.quick_sale.create"]},{code:"simple_stock",label:"Stock simplifié",description:"Gestion de stock basique sans traçabilité complexe",enabled:!1,permissions:["kiosk.stock.view","kiosk.stock.manage"]},{code:"unit_products",label:"Produits unitaires",description:"Gestion de produits vendus à l'unité",enabled:!1,permissions:["kiosk.products.view","kiosk.products.manage"]}]},supermarket:{id:"supermarket",code:"supermarket",name:"Supermarché",description:"Solution complète pour supermarchés",icon:G,color:"amber",enabled:!1,features:[{code:"multi_aisles",label:"Multi-rayons",description:"Organisation par rayons et catégories",enabled:!1,permissions:["supermarket.aisles.view","supermarket.aisles.manage"]},{code:"variants",label:"Variantes produits",description:"Gérer les variantes (taille, couleur, poids)",enabled:!1,permissions:["supermarket.variants.view","supermarket.variants.manage"]},{code:"promotions",label:"Promotions & réductions",description:"Gérer les promotions, codes promo, réductions",enabled:!1,permissions:["supermarket.promotions.view","supermarket.promotions.manage"]},{code:"loyalty",label:"Fidélité clients",description:"Programme de fidélité et cartes de fidélité",enabled:!1,permissions:["supermarket.loyalty.view","supermarket.loyalty.manage"]}]}}[u];if(!r)return e.jsxs(p,{children:[e.jsx(c,{title:"Module introuvable"}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[e.jsx("p",{className:"text-red-800 dark:text-red-300",children:"Module introuvable."}),e.jsxs(d,{href:"/admin/modules",className:"mt-4 inline-flex items-center gap-2 text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:[e.jsx(b,{className:"h-4 w-4"}),"Retour aux modules"]})]})})})]});const x=r.icon,[t,g]=m.useState(r.features),[i,h]=m.useState(r.enabled),l=(s=>{const a={blue:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-800 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800"},red:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-800 dark:text-red-300",border:"border-red-200 dark:border-red-800"},green:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-800 dark:text-green-300",border:"border-green-200 dark:border-green-800"},amber:{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-800 dark:text-amber-300",border:"border-amber-200 dark:border-amber-800"}};return a[s]||a.blue})(r.color),k=s=>{g(a=>a.map(o=>o.code===s?{...o,enabled:!o.enabled}:o))},y=()=>{console.log("Saving module config:",{module:r.code,enabled:i,features:t}),alert("Configuration sauvegardée (backend non implémenté)")},f=t.filter(s=>s.enabled).length,v=t.length;return e.jsxs(p,{header:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{href:"/admin/modules",className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:e.jsx(b,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${l.bg} ${l.text}`,children:e.jsx(x,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold leading-tight text-gray-900 dark:text-white",children:["Configuration - ",r.name]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[f,"/",v," fonctionnalités activées"]})]})]})]})}),children:[e.jsx(c,{title:`Configuration - ${r.name}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.description})}),e.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Activer le module"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Activez ce module pour votre entreprise"})]}),e.jsx("button",{onClick:()=>h(!i),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i?"bg-amber-600":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i?"translate-x-6":"translate-x-1"}`})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Fonctionnalités"}),t.map(s=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:s.label}),s.enabled&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full",children:"Activé"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:s.description}),s.permissions&&s.permissions.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Permissions associées :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.permissions.map(a=>e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:a},a))})]})]}),e.jsx("button",{onClick:()=>k(s.code),className:`flex-shrink-0 relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.enabled?"bg-amber-600":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.enabled?"translate-x-6":"translate-x-1"}`})})]})},s.code))]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[e.jsx(d,{href:"/admin/modules",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Annuler"}),e.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 rounded-lg hover:bg-amber-700 transition-colors",children:"Enregistrer"})]})]})})]})}export{T as default};
