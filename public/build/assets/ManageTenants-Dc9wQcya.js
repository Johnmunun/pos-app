import{r as x,u as m,j as e,a}from"./app-Bu58nmqp.js";import{F as o}from"./FlashMessages-Ce1oH_d3.js";import{R as d}from"./refresh-cw-DMClxRp8.js";import"./createLucideIcon-D31lZ7X_.js";function j({tenants:t}){const[r,i]=x.useState(null),{auth:n}=m().props,l=(n?.permissions??[]).includes("admin.tenants.update"),c=s=>{l&&(i(s),a.post(route("admin.tenants.update",s),{},{onFinish:()=>i(null)}))};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Tenants"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Gérez tous les tenants de la plateforme"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>a.reload({only:["tenants"]}),className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 transition",title:"Actualiser",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Actualiser"})]}),e.jsx("a",{href:route("admin.tenants.select.view"),className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 transition",children:"← Retour"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Tenants Total"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:t.length})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-lg p-6 border border-emerald-200",children:[e.jsx("div",{className:"text-sm font-medium text-emerald-700",children:"Actifs"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-emerald-900",children:t.filter(s=>s.is_active).length})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[e.jsx("div",{className:"text-sm font-medium text-red-700",children:"Inactifs"}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-red-900",children:t.filter(s=>!s.is_active).length})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Liste des tenants"}),e.jsxs("button",{onClick:()=>a.reload({only:["tenants"]}),className:"inline-flex items-center gap-2 px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition",title:"Actualiser la liste",children:[e.jsx(d,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Actualiser"})]})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Nom"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Slug"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Utilisateurs"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Créé"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("code",{className:"text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded",children:s.slug})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.users_count||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.is_active?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:"Actif"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(s.created_at).toLocaleDateString("fr-FR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l?e.jsx("button",{onClick:()=>c(s.id),disabled:r===s.id,className:`inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium transition ${s.is_active?"bg-red-100 text-red-700 hover:bg-red-200 disabled:opacity-50":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 disabled:opacity-50"}`,children:r===s.id?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Chargement..."]}):s.is_active?"Désactiver":"Activer"}):e.jsx("span",{className:"text-xs text-gray-500 italic",children:"Non autorisé"})})]},s.id))})]}),t.length===0&&e.jsx("div",{className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Aucun tenant trouvé"})})]})]}),e.jsx(o,{})]})}export{j as default};
